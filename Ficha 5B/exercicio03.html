<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 2</title>

    <style>
        .saida div {
            display: inline-block;
        }

        label {
            display: block;
            margin-bottom: 10px;
        }

        main {
            margin: 100px auto;
            width: fit-content;
            height: fit-content;
        }

        input {
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <main>
        <input type="text" autofocus />
        <div class="saida">
            <label>
                <span>Reverso:</span>
                <div></div>
            </label>
            <label>
                <span>Vogais:</span>
                <div></div>
            </label>
            <span>Convertido:</span>
            <div></div>
        </div>
    </main>

    <script>
        const input = document.querySelector("input");
        const resultados = document.querySelectorAll(".saida div");

        const analisar = () => {
            const valor = input.value;

            resultados[0].innerHTML = reverter(valor);
            resultados[1].innerHTML = contarVogais(valor);
            resultados[2].innerHTML = converter(valor);
        };

        const reverter = (str) => {
            let reverso = "";

            str = str.trim();

            if (str != "") {
                for (let i = str.length; i > 0; i--) {
                    reverso += str[i - 1];
                }
            }

            return reverso;
        };

        const contarVogais = (str) => {
            const vogais = ["a", "e", "i", "o", "u"];
            let nr = 0;

            for (let i = 0; i < str.length; i++) {
                if (vogais.includes(str[i].toLowerCase())) {
                    nr++;
                }
            }

            return nr;
        };

        const converter = (str) => {
            let stringFinal = "";
            str = str.trim().split(" ");

            if (str != "") {
                for (let i = 0; i < str.length; i++) {
                    stringFinal += str[i][0].toUpperCase() + str[i].slice(1) + " ";
                }
            }
            return stringFinal;
        };

        input.addEventListener("keyup", analisar);
    </script>
</body>

</html>